<Window x:Class="ImageDescriber.Full.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ImageDescriber - Professional WPF Edition" 
        Height="600" Width="900"
        WindowState="Maximized">
    
    <DockPanel>
        <!-- Menu Bar (Not in tab order for accessibility) -->
        <Menu DockPanel.Dock="Top" IsTabStop="False"
              AutomationProperties.Name="Main Menu"
              AutomationProperties.HelpText="Application main menu with file operations">
            <MenuItem Header="_File" AutomationProperties.Name="File Menu">
                <MenuItem Header="_New Workspace" Click="NewWorkspace_Click" 
                          AutomationProperties.HelpText="Create a new image workspace"/>
                <MenuItem Header="_Open Workspace" Click="OpenWorkspace_Click"
                          AutomationProperties.HelpText="Open existing IDW workspace file"/>
                <MenuItem Header="_Save Workspace" Click="SaveWorkspace_Click"
                          AutomationProperties.HelpText="Save current workspace to IDW file"/>
                <Separator/>
                <MenuItem Header="Add _Directory" Click="AddDirectory_Click"
                          AutomationProperties.HelpText="Add all images from a directory"/>
                <MenuItem Header="Add _Files" Click="AddFiles_Click"
                          AutomationProperties.HelpText="Add specific image files"/>
                <Separator/>
                <MenuItem Header="E_xit" Click="Exit_Click"
                          AutomationProperties.HelpText="Exit application"/>
            </MenuItem>
            <MenuItem Header="_Process" AutomationProperties.Name="Process Menu">
                <MenuItem Header="_Describe Images" Click="ProcessImages_Click"
                          AutomationProperties.HelpText="Generate AI descriptions for selected images"/>
                <MenuItem Header="_Stop Processing" Click="StopProcessing_Click"
                          AutomationProperties.HelpText="Stop current batch processing"/>
            </MenuItem>
            <MenuItem Header="_Help" AutomationProperties.Name="Help Menu">
                <MenuItem Header="_About" Click="About_Click"
                          AutomationProperties.HelpText="About this application"/>
            </MenuItem>
        </Menu>

        <!-- Status Bar -->
        <StatusBar DockPanel.Dock="Bottom" Height="25"
                   AutomationProperties.Name="Status Bar"
                   AutomationProperties.HelpText="Shows application status and progress">
            <StatusBarItem>
                <TextBlock x:Name="StatusText" Text="Ready"
                           AutomationProperties.Name="Status Message"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <StackPanel Orientation="Horizontal">
                    <TextBlock x:Name="BatchQueueText" Text="Batch Queue: 0"
                               AutomationProperties.Name="Batch Queue Count" Margin="0,0,10,0"/>
                    <ProgressBar x:Name="ProgressBar" Width="150" Height="16" 
                                 Minimum="0" Maximum="100" Value="0"
                                 AutomationProperties.Name="Progress Bar"
                                 AutomationProperties.HelpText="Shows processing progress"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>

        <!-- Main Content Area -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <!-- Left Panel: Images List -->
            <DockPanel Grid.Column="0" Margin="5">
                <TextBlock DockPanel.Dock="Top" Text="Images:" FontWeight="Bold" Margin="0,0,0,5"
                           AutomationProperties.Name="Images Section Header"/>
                <ListBox x:Name="ImagesList" 
                         AutomationProperties.Name="Images List"
                         AutomationProperties.HelpText="List of images in workspace. Shows filename and description count in parentheses."
                         SelectionChanged="ImagesList_SelectionChanged">
                    <!-- Items will be populated from code-behind -->
                </ListBox>
            </DockPanel>

            <!-- Splitter -->
            <GridSplitter Grid.Column="1" HorizontalAlignment="Stretch" ResizeBehavior="PreviousAndNext"/>

            <!-- Right Panel: Descriptions -->
            <DockPanel Grid.Column="2" Margin="5">
                <TextBlock DockPanel.Dock="Top" Text="Descriptions:" FontWeight="Bold" Margin="0,0,0,5"
                           AutomationProperties.Name="Descriptions Section Header"/>
                
                <!-- Descriptions List (top half) -->
                <ListBox x:Name="DescriptionsList" DockPanel.Dock="Top" Height="250"
                         AutomationProperties.Name="Descriptions List" 
                         AutomationProperties.HelpText="List of AI descriptions for selected image. Shows model name, provider, and preview text."
                         SelectionChanged="DescriptionsList_SelectionChanged">
                    <!-- Items will be populated from code-behind -->
                </ListBox>

                <TextBlock DockPanel.Dock="Top" Text="Description Text:" FontWeight="Bold" Margin="0,10,0,5"
                           AutomationProperties.Name="Description Text Section Header"/>
                
                <!-- Description Text (bottom half) -->
                <ScrollViewer>
                    <TextBox x:Name="DescriptionTextBox" 
                             TextWrapping="Wrap" 
                             IsReadOnly="True"
                             VerticalScrollBarVisibility="Auto"
                             AutomationProperties.Name="Description Text"
                             AutomationProperties.HelpText="Full text of selected description"/>
                </ScrollViewer>
            </DockPanel>
        </Grid>
    </DockPanel>
</Window>